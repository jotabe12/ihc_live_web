<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa de Seguridad</title>

    <!--aqui va la api-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

    <link rel="stylesheet" href="../css/mapa_seguridad.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <nav class="navbar">
        <div class="logo">
            <a href="../index.html">
                <img src="../asset/Logo.png" alt="Logo ViviEstu">
            </a>
        </div>
        <ul>
            <li><a href="mapa_seguridad.html">Zonas</a></li>
            <li><a href="mapa_seguridad.html">Comparador</a></li>
            <li><a href="foro_estudiantil.html">Comunidad</a></li>
            <li><a href="agendar_visita.html">Contacto</a></li>
        </ul>
        <div class="nav-buttons">
            <button class="btn-login" id="btnLoginDesktop">Iniciar Sesión</button>
            <button class="btn-register" id="btnRegisterDesktop">Registrarse</button>
        </div>
    </nav>

    <section class="map-section">
        <h1>Mapa de Seguridad ViviEstu</h1>
        <p>Visualiza zonas seguras (verde) y zonas de riesgo (rojo)</p>

        <div id="map"></div>
    </section>

    <footer>
        © 2025 ViviEstu - Visualización de zonas
    </footer>

    <!-- segunda parte de la api -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- Session Management -->
    <script src="../js/app.js"></script>

    <!-- tercera parte de la api -->
    <script>
        // Inicializar mapa
        const map = L.map('map').setView([-12.06, -77.04], 12); 

        // Capa del mapa real
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '© OpenStreetMap'
        }).addTo(map);

        const zonasSeguras = [
            {lat:-12.084, lng:-77.05, nombre:"Zona segura A"},
            {lat:-12.072, lng:-77.03, nombre:"Zona segura B"},
            {lat:-12.061, lng:-77.08, nombre:"Zona segura C"},
        ];

        const zonasPeligrosas = [
            {lat:-12.09, lng:-77.06, nombre:"Zona peligrosa A"},
            {lat:-12.05, lng:-77.00, nombre:"Zona peligrosa B"},
            {lat:-12.04, lng:-77.09, nombre:"Zona peligrosa C"},
        ];

        zonasSeguras.forEach(z => {
            L.circleMarker([z.lat, z.lng], {
                radius: 10,
                color: "white",
                fillColor: "#2e7d32",
                fillOpacity: 0.9
            }).addTo(map).bindPopup(z.nombre);
        });

        zonasPeligrosas.forEach(z => {
            L.circleMarker([z.lat, z.lng], {
                radius: 10,
                color: "white",
                fillColor: "#d32f2f",
                fillOpacity: 0.9
            }).addTo(map).bindPopup(z.nombre);
        });
    </script>

</body>
</html>
